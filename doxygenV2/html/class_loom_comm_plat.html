<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>LoomCommPlat class | Loom</title>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:400,400i,600,600i%7CSource+Code+Pro:400,400i,600" />
  <link rel="stylesheet" href="m-dark+documentation.compiled.css" />
  <link rel="icon" href="favicon-dark.png" type="image/png" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="theme-color" content="#22272e" />
</head>
<body>
<header><nav id="navigation">
  <div class="m-container">
    <div class="m-row">
      <a href="index.html" id="m-navbar-brand" class="m-col-t-8 m-col-m-none m-left-m">Loom</a>
      <div class="m-col-t-4 m-hide-m m-text-right m-nopadr">
        <a href="#search" class="m-doc-search-icon" title="Search" onclick="return showSearch()"><svg style="height: 0.9rem;" viewBox="0 0 16 16">
          <path id="m-doc-search-icon-path" d="m6 0c-3.31 0-6 2.69-6 6 0 3.31 2.69 6 6 6 1.49 0 2.85-0.541 3.89-1.44-0.0164 0.338 0.147 0.759 0.5 1.15l3.22 3.79c0.552 0.614 1.45 0.665 2 0.115 0.55-0.55 0.499-1.45-0.115-2l-3.79-3.22c-0.392-0.353-0.812-0.515-1.15-0.5 0.895-1.05 1.44-2.41 1.44-3.89 0-3.31-2.69-6-6-6zm0 1.56a4.44 4.44 0 0 1 4.44 4.44 4.44 4.44 0 0 1-4.44 4.44 4.44 4.44 0 0 1-4.44-4.44 4.44 4.44 0 0 1 4.44-4.44z"/>
        </svg></a>
        <a id="m-navbar-show" href="#navigation" title="Show navigation"></a>
        <a id="m-navbar-hide" href="#" title="Hide navigation"></a>
      </div>
      <div id="m-navbar-collapse" class="m-col-t-12 m-show-m m-col-m-none m-right-m">
        <div class="m-row">
          <ol class="m-col-t-6 m-col-m-none">
            <li><a href="pages.html">Pages</a></li>
            <li><a href="namespaces.html">Namespaces</a></li>
          </ol>
          <ol class="m-col-t-6 m-col-m-none" start="3">
            <li><a href="annotated.html">Classes</a></li>
            <li><a href="files.html">Files</a></li>
            <li class="m-show-m"><a href="#search" class="m-doc-search-icon" title="Search" onclick="return showSearch()"><svg style="height: 0.9rem;" viewBox="0 0 16 16">
              <use href="#m-doc-search-icon-path" />
            </svg></a></li>
          </ol>
        </div>
      </div>
    </div>
  </div>
</nav></header>
<main><article>
  <div class="m-container m-container-inflatable">
    <div class="m-row">
      <div class="m-col-l-10 m-push-l-1">
        <h1>
          LoomCommPlat <span class="m-thin">class</span>
        </h1>
        <p>Abstract base of communication platform modules.</p>
        <div class="m-block m-default">
          <h3>Contents</h3>
          <ul>
            <li>
              Reference
              <ul>
                <li><a href="#base-classes">Base classes</a></li>
                <li><a href="#derived-classes">Derived classes</a></li>
                <li><a href="#pro-attribs">Protected variables</a></li>
                <li><a href="#radio-implementation">RADIO IMPLEMENTATION</a></li>
                <li><a href="#constructors-destructor">CONSTRUCTORS / DESTRUCTOR</a></li>
                <li><a href="#operation">OPERATION</a></li>
                <li><a href="#print-information">PRINT INFORMATION</a></li>
                <li><a href="#getters">GETTERS</a></li>
                <li><a href="#setters">SETTERS</a></li>
              </ul>
            </li>
          </ul>
        </div>
<p>All communication platform modules inherit from this class.</p><aside class="m-note m-default"><h4>Resources</h4><ul><li><a href="https://openslab-osu.github.io/Loom/html/class_loom_comm_plat.html">Module Documentation</a></li><li><a href="https://github.com/OPEnSLab-OSU/Loom/wiki/Hardware-Support#telecommunication-capabilities">Hardware Support</a></li></ul></aside>
        <section id="base-classes">
          <h2><a href="#base-classes">Base classes</a></h2>
          <dl class="m-doc">
            <dt>
              class <a href="class_loom_module.html" class="m-doc">LoomModule</a>
            </dt>
            <dd>Abstract root of Loom component modules inheritance hierarchy.</dd>
          </dl>
        </section>
        <section id="derived-classes">
          <h2><a href="#derived-classes">Derived classes</a></h2>
          <dl class="m-doc">
            <dt>
              class <a href="class_loom___bluetooth.html" class="m-doc">Loom_Bluetooth</a>
            </dt>
            <dd>Bluetooth communication platform module.</dd>
            <dt>
              class <a href="class_loom___lo_ra.html" class="m-doc">Loom_LoRa</a>
            </dt>
            <dd>LoRa communication platform module.</dd>
            <dt>
              class <a href="class_loom__n_r_f.html" class="m-doc">Loom_nRF</a>
            </dt>
            <dd>Nordic Radio communication platform module.</dd>
          </dl>
        </section>
        <section id="pro-attribs">
          <h2><a href="#pro-attribs">Protected variables</a></h2>
          <dl class="m-doc">
            <dt id="a2b4f69c2ec15028f5f281c3d1d399dba">
              uint16_t <a href="#a2b4f69c2ec15028f5f281c3d1d399dba" class="m-doc-self">max_message_len</a>
            </dt>
            <dd>The maximum message length.</dd>
            <dt id="a20b6f639d308b8b2f05cea41597bd6d3">
              int16_t <a href="#a20b6f639d308b8b2f05cea41597bd6d3" class="m-doc-self">signal_strength</a>
            </dt>
            <dd>RSSI for Lora (need to determine what the other platforms use)</dd>
            <dt>
              StaticJsonDocument&lt;1500&gt; <a href="#a065bda8c5f83a087359bda645b51c87e" class="m-doc">messageJson</a>
            </dt>
            <dd>Document to read incoming data into.</dd>
          </dl>
        </section>
        <section id="radio-implementation">
          <h2><a href="#radio-implementation">RADIO IMPLEMENTATION</a></h2>
          <dl class="m-doc">
            <dt>
              <span class="m-doc-wrap-bumper">auto <a href="#acc447dd60751ea7536f0c96b4390fdd8" class="m-doc">receive_blocking_impl</a>(</span><span class="m-doc-wrap">JsonObject json,
              uint max_wait_time) -&gt; bool <span class="m-label m-flat m-warning">protected</span> <span class="m-label m-flat m-warning">virtual</span></span>
            </dt>
            <dd>Receive, but block until packet received, or timeout reached.</dd>
            <dt>
              <span class="m-doc-wrap-bumper">auto <a href="#a28f40393c7d50d3bf30eff3add02d6fc" class="m-doc">send_impl</a>(</span><span class="m-doc-wrap">JsonObject json,
              const uint8_t destination) -&gt; bool <span class="m-label m-flat m-warning">protected</span> <span class="m-label m-flat m-warning">virtual</span></span>
            </dt>
            <dd>Send json to a specific address.</dd>
            <dt>
              <span class="m-doc-wrap-bumper">void <a href="#ae88689d0db8ab91d1e672f0b5c358945" class="m-doc">broadcast_impl</a>(</span><span class="m-doc-wrap">JsonObject json) <span class="m-label m-flat m-warning">protected</span> <span class="m-label m-flat m-warning">virtual</span></span>
            </dt>
            <dd>Broadcast data to all that can receive.</dd>
          </dl>
        </section>
        <section id="constructors-destructor">
          <h2><a href="#constructors-destructor">CONSTRUCTORS / DESTRUCTOR</a></h2>
          <dl class="m-doc">
            <dt>
              <span class="m-doc-wrap-bumper"><a href="#ae977f58b40bd6f292fc7e5a20b319ca4" class="m-doc">LoomCommPlat</a>(</span><span class="m-doc-wrap"><a href="class_loom_manager.html" class="m-doc">LoomManager</a>* manager,
              const char* module_name,
              const <a href="class_loom_module.html#aee91d0a75140d51ee428fc2d4417d865" class="m-doc">LoomModule::<wbr />Type</a> module_type,
              const uint16_t max_message_len)</span>
            </dt>
            <dd>Constructor.</dd>
            <dt id="a88da37ecf287280aa166e25f4f947b37">
              <span class="m-doc-wrap-bumper"><a href="#a88da37ecf287280aa166e25f4f947b37" class="m-doc-self">~LoomCommPlat</a>(</span><span class="m-doc-wrap">) <span class="m-label m-flat m-info">defaulted</span> <span class="m-label m-flat m-warning">virtual</span></span>
            </dt>
            <dd>Destructor.</dd>
          </dl>
        </section>
        <section id="operation">
          <h2><a href="#operation">OPERATION</a></h2>
          <dl class="m-doc">
            <dt>
              <span class="m-doc-wrap-bumper">void <a href="#a4cc05ef1f12c5b15fc6516dc75f070d4" class="m-doc">package</a>(</span><span class="m-doc-wrap">JsonObject json) <span class="m-label m-flat m-warning">override</span></span>
            </dt>
            <dd>Package a modules measurements or state.</dd>
            <dt>
              <span class="m-doc-wrap-bumper">auto <a href="#a15fb6d65a9454154ac899f3560c67a6f" class="m-doc">receive_blocking</a>(</span><span class="m-doc-wrap">JsonObject json,
              uint max_wait_time) -&gt; bool</span>
            </dt>
            <dd>Receive, but block until packet received, or timeout reached.</dd>
            <dt>
              <span class="m-doc-wrap-bumper">auto <a href="#a7d5af29f4053627979c15928f284446f" class="m-doc">receive</a>(</span><span class="m-doc-wrap">JsonObject json) -&gt; bool</span>
            </dt>
            <dd>Build json from packet if any exists.</dd>
            <dt>
              <span class="m-doc-wrap-bumper">auto <a href="#ab59a3e7ed1aa0c3997506bf77b1176e6" class="m-doc">receive_batch</a>(</span><span class="m-doc-wrap">) -&gt; bool</span>
            </dt>
            <dd>Receive and immediately create a batch file from JSON receieved.</dd>
            <dt>
              <span class="m-doc-wrap-bumper">auto <a href="#a84aa23d66457ffe78053d3d0cbd1e7b1" class="m-doc">receive_batch_blocking</a>(</span><span class="m-doc-wrap">uint max_wait_time) -&gt; bool</span>
            </dt>
            <dd>Receive, and block until packet recieved or timeout, and immediately create a batch file from JSON receieved.</dd>
            <dt>
              <span class="m-doc-wrap-bumper">auto <a href="#abe9a506341e7e5dd3dde40210d7c3904" class="m-doc">receive</a>(</span><span class="m-doc-wrap">) -&gt; bool</span>
            </dt>
            <dd>Version of receive for use with <a href="class_loom_manager.html" class="m-doc">LoomManager</a>.</dd>
            <dt>
              <span class="m-doc-wrap-bumper">auto <a href="#a5a16f4a2a37ddf593f7a3c0dd9e5f692" class="m-doc">receive_blocking</a>(</span><span class="m-doc-wrap">const uint max_wait_time) -&gt; bool</span>
            </dt>
            <dd>Version of receive_blocking for use with <a href="class_loom_manager.html" class="m-doc">LoomManager</a>.</dd>
            <dt>
              <span class="m-doc-wrap-bumper">auto <a href="#a727f88000d237c0f413a17600fc261a6" class="m-doc">pre_merge_receive_blocking</a>(</span><span class="m-doc-wrap">JsonObject json) -&gt; JsonObject</span>
            </dt>
            <dd>Giving the header of the Package from the other board.</dd>
            <dt>
              <span class="m-doc-wrap-bumper">auto <a href="#a3505da17f54272de95f4d92a3c0caf49" class="m-doc">merge_json</a>(</span><span class="m-doc-wrap">JsonObject json,
              const uint8_t loop) -&gt; bool</span>
            </dt>
            <dd>It will merge all the small packages into one big package.</dd>
            <dt>
              <span class="m-doc-wrap-bumper">auto <a href="#a503a10dbf3add366f1cd3bf4c274f907" class="m-doc">send</a>(</span><span class="m-doc-wrap">JsonObject json,
              const uint8_t destination) -&gt; bool</span>
            </dt>
            <dd>Send json to a specific address.</dd>
            <dt>
              <span class="m-doc-wrap-bumper">auto <a href="#ae1a86dffbfd638cd56b8be47af9964ab" class="m-doc">send</a>(</span><span class="m-doc-wrap">const uint8_t destination) -&gt; bool</span>
            </dt>
            <dd>Version of send for use with <a href="class_loom_manager.html" class="m-doc">LoomManager</a>.</dd>
            <dt>
              <span class="m-doc-wrap-bumper">auto <a href="#a4cd103d035644901828bf4959cd7a9c9" class="m-doc">send_batch</a>(</span><span class="m-doc-wrap">const uint8_t destination,
              int delay_time) -&gt; uint8_t</span>
            </dt>
            <dd>Sends all the jsons stored in the batch.</dd>
            <dt>
              <span class="m-doc-wrap-bumper">auto <a href="#ab8fd85c99d07244665b818610edde993" class="m-doc">determine_json_size</a>(</span><span class="m-doc-wrap">JsonObject json) -&gt; uint16_t</span>
            </dt>
            <dd>Return the size of the json to determing wether to send as split or not.</dd>
            <dt>
              <span class="m-doc-wrap-bumper">auto <a href="#abc9ba333b93167dda5dd721eb4a04d02" class="m-doc">split_send_notification</a>(</span><span class="m-doc-wrap">JsonObject json,
              const uint8_t destination) -&gt; bool</span>
            </dt>
            <dd>If the json is over 251, then it let the user the know that it will be sending small mulitple jsons with how many will it be splited into.</dd>
            <dt>
              <span class="m-doc-wrap-bumper">auto <a href="#a7a0d2c230d977bfb8f286aab7bd8469e" class="m-doc">split_send</a>(</span><span class="m-doc-wrap">JsonObject json,
              const uint8_t destination,
              const uint8_t index) -&gt; bool</span>
            </dt>
            <dd>The actual processing spliting into small json.</dd>
            <dt>
              <span class="m-doc-wrap-bumper">void <a href="#a5098505add4d65102472aeeb7dc442bb" class="m-doc">broadcast</a>(</span><span class="m-doc-wrap">JsonObject json)</span>
            </dt>
            <dd>Broadcast data to all that can receive.</dd>
            <dt>
              <span class="m-doc-wrap-bumper">void <a href="#a30796b7e6bbeb5f0c9cbf112b578c27f" class="m-doc">broadcast</a>(</span><span class="m-doc-wrap">)</span>
            </dt>
            <dd>Version of send for use with <a href="class_loom_manager.html" class="m-doc">LoomManager</a>.</dd>
            <dt>
              <span class="m-doc-wrap-bumper">void <a href="#a9fdc18392e011fe3bd41b37a5d3d8999" class="m-doc">broadcast_batch</a>(</span><span class="m-doc-wrap">int delay_time)</span>
            </dt>
            <dd>Broadcasts all the jsons stored in the batch.</dd>
          </dl>
        </section>
        <section id="print-information">
          <h2><a href="#print-information">PRINT INFORMATION</a></h2>
          <dl class="m-doc">
            <dt id="a97982022b7e279d4def0246e17a95d61">
              <span class="m-doc-wrap-bumper">void <a href="#a97982022b7e279d4def0246e17a95d61" class="m-doc-self">print_config</a>(</span><span class="m-doc-wrap">) const <span class="m-label m-flat m-warning">override</span></span>
            </dt>
            <dd>Display the configuration settings of the module.</dd>
            <dt id="a2a3336599f8b56c2cbb223a386d797ec">
              <span class="m-doc-wrap-bumper">void <a href="#a2a3336599f8b56c2cbb223a386d797ec" class="m-doc-self">print_state</a>(</span><span class="m-doc-wrap">) const <span class="m-label m-flat m-warning">override</span></span>
            </dt>
            <dd>Display current state of the module.</dd>
          </dl>
        </section>
        <section id="getters">
          <h2><a href="#getters">GETTERS</a></h2>
          <dl class="m-doc">
            <dt>
              <span class="m-doc-wrap-bumper">auto <a href="#afaf204bcf88cb88102cea8c6c1d745f3" class="m-doc">get_address</a>(</span><span class="m-doc-wrap">) const -&gt; uint8_t <span class="m-label m-flat m-warning">pure virtual</span></span>
            </dt>
            <dd>Get the address of this device.</dd>
            <dt>
              <span class="m-doc-wrap-bumper">auto <a href="#ad55b5a20b503ea93789159f075677d9f" class="m-doc">get_drop_rate</a>(</span><span class="m-doc-wrap">) const -&gt; float</span>
            </dt>
            <dd>Get the packet drop rate since the start of operation.</dd>
            <dt>
              <span class="m-doc-wrap-bumper">auto <a href="#a5c21c70637e43f0731d97173b59200cf" class="m-doc">get_last_ten_drop_rate</a>(</span><span class="m-doc-wrap">) const -&gt; float</span>
            </dt>
            <dd>Get the packet drop rate of the last ten <a href="class_loom_comm_plat.html#a503a10dbf3add366f1cd3bf4c274f907" class="m-doc">send()</a> calls.</dd>
          </dl>
        </section>
        <section id="setters">
          <h2><a href="#setters">SETTERS</a></h2>
          <dl class="m-doc">
            <dt>
              <span class="m-doc-wrap-bumper">auto <a href="#af5030b99e3398396af535558efa82279" class="m-doc">json_to_msgpack_buffer</a>(</span><span class="m-doc-wrap">JsonObjectConst json,
              char* buffer,
              const uint16_t max_len) const -&gt; bool <span class="m-label m-flat m-warning">protected</span></span>
            </dt>
            <dd>Serialize a JsonObject into a MessagePack buffer.</dd>
            <dt>
              <span class="m-doc-wrap-bumper">auto <a href="#ae6b8468f5345cf30d857e3229d3f5aa3" class="m-doc">msgpack_buffer_to_json</a>(</span><span class="m-doc-wrap">const char* buffer,
              JsonObject json) -&gt; bool <span class="m-label m-flat m-warning">protected</span></span>
            </dt>
            <dd>Deserialize a MessagePack buffer into a JsonObject.</dd>
            <dt>
              <span class="m-doc-wrap-bumper">void <a href="#a7053c8475d0f2c00507fe0806f1d37bc" class="m-doc">add_packet_result</a>(</span><span class="m-doc-wrap">const bool did_drop) <span class="m-label m-flat m-warning">protected</span></span>
            </dt>
            <dd>Add the result of a packet to the drop_rate tracker.</dd>
            <dt>
              <span class="m-doc-wrap-bumper">void <a href="#afa0f66b4e657effefc34fa5a74363174" class="m-doc">set_address</a>(</span><span class="m-doc-wrap">const uint8_t a) <span class="m-label m-flat m-warning">pure virtual</span></span>
            </dt>
            <dd>Set the address of this device.</dd>
          </dl>
        </section>
        <section>
          <h2>Function documentation</h2>
          <section class="m-doc-details" id="acc447dd60751ea7536f0c96b4390fdd8"><div>
            <h3>
              <span class="m-doc-wrap-bumper">bool LoomCommPlat::<wbr /></span><span class="m-doc-wrap"><span class="m-doc-wrap-bumper"><a href="#acc447dd60751ea7536f0c96b4390fdd8" class="m-doc-self">receive_blocking_impl</a>(</span><span class="m-doc-wrap">JsonObject json,
              uint max_wait_time) <span class="m-label m-warning">virtual</span> <span class="m-label m-warning">protected</span></span></span>
            </h3>
            <p>Receive, but block until packet received, or timeout reached.</p>
            <table class="m-table m-fullwidth m-flat">
              <thead>
                <tr><th colspan="2">Parameters</th></tr>
              </thead>
              <tbody>
                <tr>
                  <td style="width: 1%">json&nbsp;<span class="m-label m-flat m-warning">out</span></td>
                  <td>Json object to fill with incoming data</td>
                </tr>
                <tr>
                  <td>max_wait_time&nbsp;<span class="m-label m-flat m-warning">out</span></td>
                  <td>Maximum number of milliseconds to block for (can be zero for non-blocking)</td>
                </tr>
              </tbody>
              <tfoot>
                <tr>
                  <th>Returns</th>
                  <td>True if packet received</td>
                </tr>
              </tfoot>
            </table>
          </div></section>
          <section class="m-doc-details" id="a28f40393c7d50d3bf30eff3add02d6fc"><div>
            <h3>
              <span class="m-doc-wrap-bumper">bool LoomCommPlat::<wbr /></span><span class="m-doc-wrap"><span class="m-doc-wrap-bumper"><a href="#a28f40393c7d50d3bf30eff3add02d6fc" class="m-doc-self">send_impl</a>(</span><span class="m-doc-wrap">JsonObject json,
              const uint8_t destination) <span class="m-label m-warning">virtual</span> <span class="m-label m-warning">protected</span></span></span>
            </h3>
            <p>Send json to a specific address.</p>
            <table class="m-table m-fullwidth m-flat">
              <thead>
                <tr><th colspan="2">Parameters</th></tr>
              </thead>
              <tbody>
                <tr>
                  <td style="width: 1%">json&nbsp;<span class="m-label m-flat m-info">in</span></td>
                  <td>Json package to send</td>
                </tr>
                <tr>
                  <td>destination&nbsp;<span class="m-label m-flat m-info">in</span></td>
                  <td>Device to send to</td>
                </tr>
              </tbody>
              <tfoot>
                <tr>
                  <th>Returns</th>
                  <td>True if packet sent successfully</td>
                </tr>
              </tfoot>
            </table>
          </div></section>
          <section class="m-doc-details" id="ae88689d0db8ab91d1e672f0b5c358945"><div>
            <h3>
              <span class="m-doc-wrap-bumper">void LoomCommPlat::<wbr /></span><span class="m-doc-wrap"><span class="m-doc-wrap-bumper"><a href="#ae88689d0db8ab91d1e672f0b5c358945" class="m-doc-self">broadcast_impl</a>(</span><span class="m-doc-wrap">JsonObject json) <span class="m-label m-warning">virtual</span> <span class="m-label m-warning">protected</span></span></span>
            </h3>
            <p>Broadcast data to all that can receive.</p>
            <table class="m-table m-fullwidth m-flat">
              <thead>
                <tr><th colspan="2">Parameters</th></tr>
              </thead>
              <tbody>
                <tr>
                  <td style="width: 1%">json&nbsp;<span class="m-label m-flat m-info">in</span></td>
                  <td>Json object to send</td>
                </tr>
              </tbody>
            </table>
<p>Derived classes can optionally provide an implementation for this, As supported by the radio/platform&#x27;s library</p>
          </div></section>
          <section class="m-doc-details" id="ae977f58b40bd6f292fc7e5a20b319ca4"><div>
            <h3>
              <span class="m-doc-wrap-bumper"> LoomCommPlat::<wbr /></span><span class="m-doc-wrap"><span class="m-doc-wrap-bumper"><a href="#ae977f58b40bd6f292fc7e5a20b319ca4" class="m-doc-self">LoomCommPlat</a>(</span><span class="m-doc-wrap"><a href="class_loom_manager.html" class="m-doc">LoomManager</a>* manager,
              const char* module_name,
              const <a href="class_loom_module.html#aee91d0a75140d51ee428fc2d4417d865" class="m-doc">LoomModule::<wbr />Type</a> module_type,
              const uint16_t max_message_len)</span></span>
            </h3>
            <p>Constructor.</p>
            <table class="m-table m-fullwidth m-flat">
              <thead>
                <tr><th colspan="2">Parameters</th></tr>
              </thead>
              <tbody>
                <tr>
                  <td style="width: 1%">manager</td>
                  <td></td>
                </tr>
                <tr>
                  <td>module_name&nbsp;<span class="m-label m-flat m-info">in</span></td>
                  <td>Name of the module (provided by derived classes)</td>
                </tr>
                <tr>
                  <td>module_type&nbsp;<span class="m-label m-flat m-info">in</span></td>
                  <td>Type of the module (provided by derived classes)</td>
                </tr>
                <tr>
                  <td>max_message_len&nbsp;<span class="m-label m-flat m-info">in</span></td>
                  <td>The maximum possible message length</td>
                </tr>
              </tbody>
            </table>
          </div></section>
          <section class="m-doc-details" id="a4cc05ef1f12c5b15fc6516dc75f070d4"><div>
            <h3>
              <span class="m-doc-wrap-bumper">void LoomCommPlat::<wbr /></span><span class="m-doc-wrap"><span class="m-doc-wrap-bumper"><a href="#a4cc05ef1f12c5b15fc6516dc75f070d4" class="m-doc-self">package</a>(</span><span class="m-doc-wrap">JsonObject json) <span class="m-label m-warning">override</span></span></span>
            </h3>
            <p>Package a modules measurements or state.</p>
            <table class="m-table m-fullwidth m-flat">
              <thead>
                <tr><th colspan="2">Parameters</th></tr>
              </thead>
              <tbody>
                <tr>
                  <td style="width: 1%">json&nbsp;<span class="m-label m-flat m-warning">out</span></td>
                  <td>Object to put data into</td>
                </tr>
              </tbody>
            </table>
          </div></section>
          <section class="m-doc-details" id="a15fb6d65a9454154ac899f3560c67a6f"><div>
            <h3>
              <span class="m-doc-wrap-bumper">bool LoomCommPlat::<wbr /></span><span class="m-doc-wrap"><span class="m-doc-wrap-bumper"><a href="#a15fb6d65a9454154ac899f3560c67a6f" class="m-doc-self">receive_blocking</a>(</span><span class="m-doc-wrap">JsonObject json,
              uint max_wait_time)</span></span>
            </h3>
            <p>Receive, but block until packet received, or timeout reached.</p>
            <table class="m-table m-fullwidth m-flat">
              <thead>
                <tr><th colspan="2">Parameters</th></tr>
              </thead>
              <tbody>
                <tr>
                  <td style="width: 1%">json&nbsp;<span class="m-label m-flat m-warning">out</span></td>
                  <td>Json object to fill with incoming data</td>
                </tr>
                <tr>
                  <td>max_wait_time&nbsp;<span class="m-label m-flat m-info">in</span></td>
                  <td>Maximum number of milliseconds to block for</td>
                </tr>
              </tbody>
              <tfoot>
                <tr>
                  <th>Returns</th>
                  <td>True if packet received</td>
                </tr>
              </tfoot>
            </table>
          </div></section>
          <section class="m-doc-details" id="a7d5af29f4053627979c15928f284446f"><div>
            <h3>
              <span class="m-doc-wrap-bumper">bool LoomCommPlat::<wbr /></span><span class="m-doc-wrap"><span class="m-doc-wrap-bumper"><a href="#a7d5af29f4053627979c15928f284446f" class="m-doc-self">receive</a>(</span><span class="m-doc-wrap">JsonObject json)</span></span>
            </h3>
            <p>Build json from packet if any exists.</p>
            <table class="m-table m-fullwidth m-flat">
              <thead>
                <tr><th colspan="2">Parameters</th></tr>
              </thead>
              <tbody>
                <tr>
                  <td style="width: 1%">json&nbsp;<span class="m-label m-flat m-warning">out</span></td>
                  <td>Json object to fill with incoming data</td>
                </tr>
              </tbody>
            </table>
          </div></section>
          <section class="m-doc-details" id="ab59a3e7ed1aa0c3997506bf77b1176e6"><div>
            <h3>
              <span class="m-doc-wrap-bumper">bool LoomCommPlat::<wbr /></span><span class="m-doc-wrap"><span class="m-doc-wrap-bumper"><a href="#ab59a3e7ed1aa0c3997506bf77b1176e6" class="m-doc-self">receive_batch</a>(</span><span class="m-doc-wrap">)</span></span>
            </h3>
            <p>Receive and immediately create a batch file from JSON receieved.</p>
            <table class="m-table m-fullwidth m-flat">
              <tfoot>
                <tr>
                  <th style="width: 1%">Returns</th>
                  <td>True if packet was recieved and stored in batch</td>
                </tr>
              </tfoot>
            </table>
          </div></section>
          <section class="m-doc-details" id="a84aa23d66457ffe78053d3d0cbd1e7b1"><div>
            <h3>
              <span class="m-doc-wrap-bumper">bool LoomCommPlat::<wbr /></span><span class="m-doc-wrap"><span class="m-doc-wrap-bumper"><a href="#a84aa23d66457ffe78053d3d0cbd1e7b1" class="m-doc-self">receive_batch_blocking</a>(</span><span class="m-doc-wrap">uint max_wait_time)</span></span>
            </h3>
            <p>Receive, and block until packet recieved or timeout, and immediately create a batch file from JSON receieved.</p>
            <table class="m-table m-fullwidth m-flat">
              <thead>
                <tr><th colspan="2">Parameters</th></tr>
              </thead>
              <tbody>
                <tr>
                  <td style="width: 1%">max_wait_time&nbsp;<span class="m-label m-flat m-info">in</span></td>
                  <td>Maximum number of milliseconds to block for</td>
                </tr>
              </tbody>
              <tfoot>
                <tr>
                  <th>Returns</th>
                  <td>True if packet was recieved and stored in batch</td>
                </tr>
              </tfoot>
            </table>
          </div></section>
          <section class="m-doc-details" id="abe9a506341e7e5dd3dde40210d7c3904"><div>
            <h3>
              <span class="m-doc-wrap-bumper">bool LoomCommPlat::<wbr /></span><span class="m-doc-wrap"><span class="m-doc-wrap-bumper"><a href="#abe9a506341e7e5dd3dde40210d7c3904" class="m-doc-self">receive</a>(</span><span class="m-doc-wrap">)</span></span>
            </h3>
            <p>Version of receive for use with <a href="class_loom_manager.html" class="m-doc">LoomManager</a>.</p>
            <table class="m-table m-fullwidth m-flat">
              <tfoot>
                <tr>
                  <th style="width: 1%">Returns</th>
                  <td>True if packet received</td>
                </tr>
              </tfoot>
            </table>
<p>Accesses Json from <a href="class_loom_manager.html" class="m-doc">LoomManager</a></p>
          </div></section>
          <section class="m-doc-details" id="a5a16f4a2a37ddf593f7a3c0dd9e5f692"><div>
            <h3>
              <span class="m-doc-wrap-bumper">bool LoomCommPlat::<wbr /></span><span class="m-doc-wrap"><span class="m-doc-wrap-bumper"><a href="#a5a16f4a2a37ddf593f7a3c0dd9e5f692" class="m-doc-self">receive_blocking</a>(</span><span class="m-doc-wrap">const uint max_wait_time)</span></span>
            </h3>
            <p>Version of receive_blocking for use with <a href="class_loom_manager.html" class="m-doc">LoomManager</a>.</p>
            <table class="m-table m-fullwidth m-flat">
              <thead>
                <tr><th colspan="2">Parameters</th></tr>
              </thead>
              <tbody>
                <tr>
                  <td style="width: 1%">max_wait_time&nbsp;<span class="m-label m-flat m-warning">out</span></td>
                  <td>Maximum number of milliseconds to block for</td>
                </tr>
              </tbody>
              <tfoot>
                <tr>
                  <th>Returns</th>
                  <td>True if packet received</td>
                </tr>
              </tfoot>
            </table>
<p>Accesses Json from <a href="class_loom_manager.html" class="m-doc">LoomManager</a></p>
          </div></section>
          <section class="m-doc-details" id="a727f88000d237c0f413a17600fc261a6"><div>
            <h3>
              <span class="m-doc-wrap-bumper">JsonObject LoomCommPlat::<wbr /></span><span class="m-doc-wrap"><span class="m-doc-wrap-bumper"><a href="#a727f88000d237c0f413a17600fc261a6" class="m-doc-self">pre_merge_receive_blocking</a>(</span><span class="m-doc-wrap">JsonObject json)</span></span>
            </h3>
            <p>Giving the header of the Package from the other board.</p>
            <table class="m-table m-fullwidth m-flat">
              <thead>
                <tr><th colspan="2">Parameters</th></tr>
              </thead>
              <tbody>
                <tr>
                  <td style="width: 1%">json&nbsp;<span class="m-label m-flat m-info">in</span></td>
                  <td>json of the headers if it came in split</td>
                </tr>
              </tbody>
              <tfoot>
                <tr>
                  <th>Returns</th>
                  <td>JsonObject it will return the headers of the package</td>
                </tr>
              </tfoot>
            </table>
          </div></section>
          <section class="m-doc-details" id="a3505da17f54272de95f4d92a3c0caf49"><div>
            <h3>
              <span class="m-doc-wrap-bumper">bool LoomCommPlat::<wbr /></span><span class="m-doc-wrap"><span class="m-doc-wrap-bumper"><a href="#a3505da17f54272de95f4d92a3c0caf49" class="m-doc-self">merge_json</a>(</span><span class="m-doc-wrap">JsonObject json,
              const uint8_t loop)</span></span>
            </h3>
            <p>It will merge all the small packages into one big package.</p>
            <table class="m-table m-fullwidth m-flat">
              <thead>
                <tr><th colspan="2">Parameters</th></tr>
              </thead>
              <tbody>
                <tr>
                  <td style="width: 1%">json&nbsp;<span class="m-label m-flat m-info">in</span></td>
                  <td>The header of the package</td>
                </tr>
                <tr>
                  <td>loop&nbsp;<span class="m-label m-flat m-info">in</span></td>
                  <td>How many small packages are coming</td>
                </tr>
              </tbody>
              <tfoot>
                <tr>
                  <th>Returns</th>
                  <td>True if all package are receive and merged, false otherwise</td>
                </tr>
              </tfoot>
            </table>
          </div></section>
          <section class="m-doc-details" id="a503a10dbf3add366f1cd3bf4c274f907"><div>
            <h3>
              <span class="m-doc-wrap-bumper">bool LoomCommPlat::<wbr /></span><span class="m-doc-wrap"><span class="m-doc-wrap-bumper"><a href="#a503a10dbf3add366f1cd3bf4c274f907" class="m-doc-self">send</a>(</span><span class="m-doc-wrap">JsonObject json,
              const uint8_t destination)</span></span>
            </h3>
            <p>Send json to a specific address.</p>
            <table class="m-table m-fullwidth m-flat">
              <thead>
                <tr><th colspan="2">Parameters</th></tr>
              </thead>
              <tbody>
                <tr>
                  <td style="width: 1%">json&nbsp;<span class="m-label m-flat m-info">in</span></td>
                  <td>Json package to send</td>
                </tr>
                <tr>
                  <td>destination&nbsp;<span class="m-label m-flat m-info">in</span></td>
                  <td>Device to send to</td>
                </tr>
              </tbody>
              <tfoot>
                <tr>
                  <th>Returns</th>
                  <td>True if packet sent successfully</td>
                </tr>
              </tfoot>
            </table>
          </div></section>
          <section class="m-doc-details" id="ae1a86dffbfd638cd56b8be47af9964ab"><div>
            <h3>
              <span class="m-doc-wrap-bumper">bool LoomCommPlat::<wbr /></span><span class="m-doc-wrap"><span class="m-doc-wrap-bumper"><a href="#ae1a86dffbfd638cd56b8be47af9964ab" class="m-doc-self">send</a>(</span><span class="m-doc-wrap">const uint8_t destination)</span></span>
            </h3>
            <p>Version of send for use with <a href="class_loom_manager.html" class="m-doc">LoomManager</a>.</p>
            <table class="m-table m-fullwidth m-flat">
              <thead>
                <tr><th colspan="2">Parameters</th></tr>
              </thead>
              <tbody>
                <tr>
                  <td style="width: 1%">destination&nbsp;<span class="m-label m-flat m-info">in</span></td>
                  <td>Address of destination device</td>
                </tr>
              </tbody>
              <tfoot>
                <tr>
                  <th>Returns</th>
                  <td>True if packet sent successfully, false otherwise</td>
                </tr>
              </tfoot>
            </table>
<p>Accesses Json from <a href="class_loom_manager.html" class="m-doc">LoomManager</a></p>
          </div></section>
          <section class="m-doc-details" id="a4cd103d035644901828bf4959cd7a9c9"><div>
            <h3>
              <span class="m-doc-wrap-bumper">uint8_t LoomCommPlat::<wbr /></span><span class="m-doc-wrap"><span class="m-doc-wrap-bumper"><a href="#a4cd103d035644901828bf4959cd7a9c9" class="m-doc-self">send_batch</a>(</span><span class="m-doc-wrap">const uint8_t destination,
              int delay_time)</span></span>
            </h3>
            <p>Sends all the jsons stored in the batch.</p>
            <table class="m-table m-fullwidth m-flat">
              <thead>
                <tr><th colspan="2">Parameters</th></tr>
              </thead>
              <tbody>
                <tr>
                  <td style="width: 1%">destination&nbsp;<span class="m-label m-flat m-info">in</span></td>
                  <td>Address of destination device</td>
                </tr>
                <tr>
                  <td>delay_time&nbsp;<span class="m-label m-flat m-info">in</span></td>
                  <td>The amount of time between each packet in the batch being sent</td>
                </tr>
              </tbody>
              <tfoot>
                <tr>
                  <th>Returns</th>
                  <td>true if the packet sent successfully</td>
                </tr>
              </tfoot>
            </table>
          </div></section>
          <section class="m-doc-details" id="ab8fd85c99d07244665b818610edde993"><div>
            <h3>
              <span class="m-doc-wrap-bumper">uint16_t LoomCommPlat::<wbr /></span><span class="m-doc-wrap"><span class="m-doc-wrap-bumper"><a href="#ab8fd85c99d07244665b818610edde993" class="m-doc-self">determine_json_size</a>(</span><span class="m-doc-wrap">JsonObject json)</span></span>
            </h3>
            <p>Return the size of the json to determing wether to send as split or not.</p>
            <table class="m-table m-fullwidth m-flat">
              <thead>
                <tr><th colspan="2">Parameters</th></tr>
              </thead>
              <tbody>
                <tr>
                  <td style="width: 1%">json&nbsp;<span class="m-label m-flat m-info">in</span></td>
                  <td>Json that will the measurement of the size</td>
                </tr>
              </tbody>
              <tfoot>
                <tr>
                  <th>Returns</th>
                  <td>uint16_t of the value of the json size</td>
                </tr>
              </tfoot>
            </table>
          </div></section>
          <section class="m-doc-details" id="abc9ba333b93167dda5dd721eb4a04d02"><div>
            <h3>
              <span class="m-doc-wrap-bumper">bool LoomCommPlat::<wbr /></span><span class="m-doc-wrap"><span class="m-doc-wrap-bumper"><a href="#abc9ba333b93167dda5dd721eb4a04d02" class="m-doc-self">split_send_notification</a>(</span><span class="m-doc-wrap">JsonObject json,
              const uint8_t destination)</span></span>
            </h3>
            <p>If the json is over 251, then it let the user the know that it will be sending small mulitple jsons with how many will it be splited into.</p>
            <table class="m-table m-fullwidth m-flat">
              <thead>
                <tr><th colspan="2">Parameters</th></tr>
              </thead>
              <tbody>
                <tr>
                  <td style="width: 1%">json&nbsp;<span class="m-label m-flat m-info">in</span></td>
                  <td>The original message pacakge</td>
                </tr>
                <tr>
                  <td>destination&nbsp;<span class="m-label m-flat m-info">in</span></td>
                  <td>Address of destination device</td>
                </tr>
              </tbody>
              <tfoot>
                <tr>
                  <th>Returns</th>
                  <td>true if able to send notification to the other board, false otherwise</td>
                </tr>
              </tfoot>
            </table>
          </div></section>
          <section class="m-doc-details" id="a7a0d2c230d977bfb8f286aab7bd8469e"><div>
            <h3>
              <span class="m-doc-wrap-bumper">bool LoomCommPlat::<wbr /></span><span class="m-doc-wrap"><span class="m-doc-wrap-bumper"><a href="#a7a0d2c230d977bfb8f286aab7bd8469e" class="m-doc-self">split_send</a>(</span><span class="m-doc-wrap">JsonObject json,
              const uint8_t destination,
              const uint8_t index)</span></span>
            </h3>
            <p>The actual processing spliting into small json.</p>
            <table class="m-table m-fullwidth m-flat">
              <thead>
                <tr><th colspan="2">Parameters</th></tr>
              </thead>
              <tbody>
                <tr>
                  <td style="width: 1%">json&nbsp;<span class="m-label m-flat m-info">in</span></td>
                  <td>The original message package</td>
                </tr>
                <tr>
                  <td>destination&nbsp;<span class="m-label m-flat m-info">in</span></td>
                  <td>Address of destination device</td>
                </tr>
                <tr>
                  <td>index&nbsp;<span class="m-label m-flat m-info">in</span></td>
                  <td>Json array Contents part location</td>
                </tr>
              </tbody>
              <tfoot>
                <tr>
                  <th>Returns</th>
                  <td>true if all of them send completely, false otherwise</td>
                </tr>
              </tfoot>
            </table>
          </div></section>
          <section class="m-doc-details" id="a5098505add4d65102472aeeb7dc442bb"><div>
            <h3>
              <span class="m-doc-wrap-bumper">void LoomCommPlat::<wbr /></span><span class="m-doc-wrap"><span class="m-doc-wrap-bumper"><a href="#a5098505add4d65102472aeeb7dc442bb" class="m-doc-self">broadcast</a>(</span><span class="m-doc-wrap">JsonObject json)</span></span>
            </h3>
            <p>Broadcast data to all that can receive.</p>
            <table class="m-table m-fullwidth m-flat">
              <thead>
                <tr><th colspan="2">Parameters</th></tr>
              </thead>
              <tbody>
                <tr>
                  <td style="width: 1%">json&nbsp;<span class="m-label m-flat m-info">in</span></td>
                  <td>Json object to send</td>
                </tr>
              </tbody>
            </table>
<p>Derived classes can optionally provide an implementation for this, As supported by the radio/platform&#x27;s library</p>
          </div></section>
          <section class="m-doc-details" id="a30796b7e6bbeb5f0c9cbf112b578c27f"><div>
            <h3>
              <span class="m-doc-wrap-bumper">void LoomCommPlat::<wbr /></span><span class="m-doc-wrap"><span class="m-doc-wrap-bumper"><a href="#a30796b7e6bbeb5f0c9cbf112b578c27f" class="m-doc-self">broadcast</a>(</span><span class="m-doc-wrap">)</span></span>
            </h3>
            <p>Version of send for use with <a href="class_loom_manager.html" class="m-doc">LoomManager</a>.</p>
<p>Accesses Json from <a href="class_loom_manager.html" class="m-doc">LoomManager</a></p>
          </div></section>
          <section class="m-doc-details" id="a9fdc18392e011fe3bd41b37a5d3d8999"><div>
            <h3>
              <span class="m-doc-wrap-bumper">void LoomCommPlat::<wbr /></span><span class="m-doc-wrap"><span class="m-doc-wrap-bumper"><a href="#a9fdc18392e011fe3bd41b37a5d3d8999" class="m-doc-self">broadcast_batch</a>(</span><span class="m-doc-wrap">int delay_time)</span></span>
            </h3>
            <p>Broadcasts all the jsons stored in the batch.</p>
            <table class="m-table m-fullwidth m-flat">
              <thead>
                <tr><th colspan="2">Parameters</th></tr>
              </thead>
              <tbody>
                <tr>
                  <td style="width: 1%">delay_time&nbsp;<span class="m-label m-flat m-info">in</span></td>
                  <td>The amount of time between each packet in the batch being broadcasted</td>
                </tr>
              </tbody>
            </table>
          </div></section>
          <section class="m-doc-details" id="afaf204bcf88cb88102cea8c6c1d745f3"><div>
            <h3>
              <span class="m-doc-wrap-bumper">uint8_t LoomCommPlat::<wbr /></span><span class="m-doc-wrap"><span class="m-doc-wrap-bumper"><a href="#afaf204bcf88cb88102cea8c6c1d745f3" class="m-doc-self">get_address</a>(</span><span class="m-doc-wrap">) const <span class="m-label m-warning">pure virtual</span></span></span>
            </h3>
            <p>Get the address of this device.</p>
            <table class="m-table m-fullwidth m-flat">
              <tfoot>
                <tr>
                  <th style="width: 1%">Returns</th>
                  <td>The address of this device</td>
                </tr>
              </tfoot>
            </table>
<p>Each platform may have a different addressing scheme</p>
          </div></section>
          <section class="m-doc-details" id="ad55b5a20b503ea93789159f075677d9f"><div>
            <h3>
              <span class="m-doc-wrap-bumper">float LoomCommPlat::<wbr /></span><span class="m-doc-wrap"><span class="m-doc-wrap-bumper"><a href="#ad55b5a20b503ea93789159f075677d9f" class="m-doc-self">get_drop_rate</a>(</span><span class="m-doc-wrap">) const</span></span>
            </h3>
            <p>Get the packet drop rate since the start of operation.</p>
            <table class="m-table m-fullwidth m-flat">
              <tfoot>
                <tr>
                  <th style="width: 1%">Returns</th>
                  <td>The drop rate from 0 (no drops) to 100 (100% drop)</td>
                </tr>
              </tfoot>
            </table>
<p>Keep in mind that this drop rate will not account for retransmissions done internally by RadioHead (ex Reliable datagram), but rather will count data packets that were discarded. This rate will also ignore broadcasts, since they are nearly impossible to quantify.</p>
          </div></section>
          <section class="m-doc-details" id="a5c21c70637e43f0731d97173b59200cf"><div>
            <h3>
              <span class="m-doc-wrap-bumper">float LoomCommPlat::<wbr /></span><span class="m-doc-wrap"><span class="m-doc-wrap-bumper"><a href="#a5c21c70637e43f0731d97173b59200cf" class="m-doc-self">get_last_ten_drop_rate</a>(</span><span class="m-doc-wrap">) const</span></span>
            </h3>
            <p>Get the packet drop rate of the last ten <a href="class_loom_comm_plat.html#a503a10dbf3add366f1cd3bf4c274f907" class="m-doc">send()</a> calls.</p>
            <table class="m-table m-fullwidth m-flat">
              <tfoot>
                <tr>
                  <th style="width: 1%">Returns</th>
                  <td>The drop rate from 0 (no drops) to 100 (100% drop)</td>
                </tr>
              </tfoot>
            </table>
<p>Keep in mind that this drop rate will not account for retransmissions done internally by RadioHead (ex Reliable datagram), but rather will count data packets that were discarded. This rate will also ignore broadcasts, since they are nearly impossible to quantify.</p>
          </div></section>
          <section class="m-doc-details" id="af5030b99e3398396af535558efa82279"><div>
            <h3>
              <span class="m-doc-wrap-bumper">bool LoomCommPlat::<wbr /></span><span class="m-doc-wrap"><span class="m-doc-wrap-bumper"><a href="#af5030b99e3398396af535558efa82279" class="m-doc-self">json_to_msgpack_buffer</a>(</span><span class="m-doc-wrap">JsonObjectConst json,
              char* buffer,
              const uint16_t max_len) const <span class="m-label m-warning">protected</span></span></span>
            </h3>
            <p>Serialize a JsonObject into a MessagePack buffer.</p>
            <table class="m-table m-fullwidth m-flat">
              <thead>
                <tr><th colspan="2">Parameters</th></tr>
              </thead>
              <tbody>
                <tr>
                  <td style="width: 1%">json&nbsp;<span class="m-label m-flat m-info">in</span></td>
                  <td>JsonObject to serialize</td>
                </tr>
                <tr>
                  <td>buffer&nbsp;<span class="m-label m-flat m-warning">out</span></td>
                  <td>Buffer to fill with MessagePack of json</td>
                </tr>
                <tr>
                  <td>max_len&nbsp;<span class="m-label m-flat m-info">in</span></td>
                  <td>Length of buffer</td>
                </tr>
              </tbody>
              <tfoot>
                <tr>
                  <th>Returns</th>
                  <td>True if success</td>
                </tr>
              </tfoot>
            </table>
<p>Also contains buffer memsetting and print statements</p>
          </div></section>
          <section class="m-doc-details" id="ae6b8468f5345cf30d857e3229d3f5aa3"><div>
            <h3>
              <span class="m-doc-wrap-bumper">bool LoomCommPlat::<wbr /></span><span class="m-doc-wrap"><span class="m-doc-wrap-bumper"><a href="#ae6b8468f5345cf30d857e3229d3f5aa3" class="m-doc-self">msgpack_buffer_to_json</a>(</span><span class="m-doc-wrap">const char* buffer,
              JsonObject json) <span class="m-label m-warning">protected</span></span></span>
            </h3>
            <p>Deserialize a MessagePack buffer into a JsonObject.</p>
            <table class="m-table m-fullwidth m-flat">
              <thead>
                <tr><th colspan="2">Parameters</th></tr>
              </thead>
              <tbody>
                <tr>
                  <td style="width: 1%">buffer&nbsp;<span class="m-label m-flat m-info">in</span></td>
                  <td>Buffer to deserialize</td>
                </tr>
                <tr>
                  <td>json&nbsp;<span class="m-label m-flat m-warning">out</span></td>
                  <td>JsonObject to deserialize into</td>
                </tr>
              </tbody>
              <tfoot>
                <tr>
                  <th>Returns</th>
                  <td>True if success</td>
                </tr>
              </tfoot>
            </table>
<p>Also clears the json, contains prints and error checks.</p>
          </div></section>
          <section class="m-doc-details" id="a7053c8475d0f2c00507fe0806f1d37bc"><div>
            <h3>
              <span class="m-doc-wrap-bumper">void LoomCommPlat::<wbr /></span><span class="m-doc-wrap"><span class="m-doc-wrap-bumper"><a href="#a7053c8475d0f2c00507fe0806f1d37bc" class="m-doc-self">add_packet_result</a>(</span><span class="m-doc-wrap">const bool did_drop) <span class="m-label m-warning">protected</span></span></span>
            </h3>
            <p>Add the result of a packet to the drop_rate tracker.</p>
            <table class="m-table m-fullwidth m-flat">
              <thead>
                <tr><th colspan="2">Parameters</th></tr>
              </thead>
              <tbody>
                <tr>
                  <td style="width: 1%">did_drop&nbsp;<span class="m-label m-flat m-info">in</span></td>
                  <td>Whether or not the packet dropped during transmission.</td>
                </tr>
              </tbody>
            </table>
          </div></section>
          <section class="m-doc-details" id="afa0f66b4e657effefc34fa5a74363174"><div>
            <h3>
              <span class="m-doc-wrap-bumper">void LoomCommPlat::<wbr /></span><span class="m-doc-wrap"><span class="m-doc-wrap-bumper"><a href="#afa0f66b4e657effefc34fa5a74363174" class="m-doc-self">set_address</a>(</span><span class="m-doc-wrap">const uint8_t a) <span class="m-label m-warning">pure virtual</span></span></span>
            </h3>
            <p>Set the address of this device.</p>
            <table class="m-table m-fullwidth m-flat">
              <thead>
                <tr><th colspan="2">Parameters</th></tr>
              </thead>
              <tbody>
                <tr>
                  <td style="width: 1%">a&nbsp;<span class="m-label m-flat m-info">in</span></td>
                  <td>The address to set this device to</td>
                </tr>
              </tbody>
            </table>
<p>Each platform may have a different addressing scheme. Changing the device&#x27;s address is not recommended.</p>
          </div></section>
        </section>
        <section>
          <h2>Variable documentation</h2>
          <section class="m-doc-details" id="a065bda8c5f83a087359bda645b51c87e"><div>
            <h3>
              StaticJsonDocument&lt;1500&gt; LoomCommPlat::<wbr /><a href="#a065bda8c5f83a087359bda645b51c87e" class="m-doc-self">messageJson</a> <span class="m-label m-warning">protected</span>
            </h3>
            <p>Document to read incoming data into.</p>
<p>CommPlatforms need their own JsonDocument because an incoming message can only be deserialized into JsonDocuments, not JsonObjects. And it seemed bad design to pass around references to the <a href="class_loom_manager.html" class="m-doc">LoomManager</a>&#x27;s internal JsonDocument. Especially as the <a href="class_loom_manager.html" class="m-doc">LoomManager</a> is intended to be non-mandatory for usage of Loom</p>
          </div></section>
        </section>
      </div>
    </div>
  </div>
</article></main>
<div class="m-doc-search" id="search">
  <a href="#!" onclick="return hideSearch()"></a>
  <div class="m-container">
    <div class="m-row">
      <div class="m-col-m-8 m-push-m-2">
        <div class="m-doc-search-header m-text m-small">
          <div><span class="m-label m-default">Tab</span> / <span class="m-label m-default">T</span> to search, <span class="m-label m-default">Esc</span> to close</div>
          <div id="search-symbolcount">&hellip;</div>
        </div>
        <div class="m-doc-search-content">
          <form>
            <input type="search" name="q" id="search-input" placeholder="Loading &hellip;" disabled="disabled" autofocus="autofocus" autocomplete="off" spellcheck="false" />
          </form>
          <noscript class="m-text m-danger m-text-center">Unlike everything else in the docs, the search functionality <em>requires</em> JavaScript.</noscript>
          <div id="search-help" class="m-text m-dim m-text-center">
            <p class="m-noindent">Search for symbols, directories, files, pages or
            modules. You can omit any prefix from the symbol or file path; adding a
            <code>:</code> or <code>/</code> suffix lists all members of given symbol or
            directory.</p>
            <p class="m-noindent">Use <span class="m-label m-dim">&darr;</span>
            / <span class="m-label m-dim">&uarr;</span> to navigate through the list,
            <span class="m-label m-dim">Enter</span> to go.
            <span class="m-label m-dim">Tab</span> autocompletes common prefix, you can
            copy a link to the result using <span class="m-label m-dim">⌘</span>
            <span class="m-label m-dim">L</span> while <span class="m-label m-dim">⌘</span>
            <span class="m-label m-dim">M</span> produces a Markdown link.</p>
          </div>
          <div id="search-notfound" class="m-text m-warning m-text-center">Sorry, nothing was found.</div>
          <ul id="search-results"></ul>
        </div>
      </div>
    </div>
  </div>
</div>
<script src="search-v1.js"></script>
<script src="searchdata-v1.js" async="async"></script>
<footer><nav>
  <div class="m-container">
    <div class="m-row">
      <div class="m-col-l-10 m-push-l-1">
        <p>Loom. Created with <a href="https://doxygen.org/">Doxygen</a> 1.8.11 and <a href="https://mcss.mosra.cz/">m.css</a>.</p>
      </div>
    </div>
  </div>
</nav></footer>
</body>
</html>
